!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports):"function"==typeof define&&define.amd?define(["exports"],r):r(e.dusty={})}(this,function(e){"use strict";var r=function(e){if(!a(e)){if(i(e.empty))return e.empty();if(o(e))return[];if(f(e))return"";if(c(e))return{};r=e,"[object Arguments]"===Object.prototype.toString.call(r)&&function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r]}()}var r;return 0},t=function(e){for(var r=[],t="";!(t=e.next()).done;)r.push(t.value);return r},n=function(e,r,u,o){if(void 0===u&&(u=[]),void 0===o&&(o=[]),b(e,r))return!0;if(i=r,null===(c=e)||null===i||g(c)!==g(i))return!1;var c,i;switch(g(e)){case"Arguments":case"Array":case"Object":if("function"==typeof e.constructor&&"Promise"===function(e){var r=String(e).match(/^function (\w*)/);return null==r?"":r[1]}(e.constructor))return e===r;break;case"Boolean":case"Number":case"String":if(typeof e!=typeof r||!b(e.valueOf(),r.valueOf()))return!1;break;case"Date":if(!b(e.valueOf(),r.valueOf()))return!1;break;case"Error":return e.name===r.name&&e.message===r.message;case"RegExp":if(e.source!==r.source||e.global!==r.global||e.ignoreCase!==r.ignoreCase||e.multiline!==r.multiline||e.sticky!==r.sticky||e.unicode!==r.unicode)return!1;break;case"Map":case"Set":if(!n(t(e.entries()),t(r.entries()),u,o))return!1;break;case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var a=Object.keys(e);if(a.length!==Object.keys(r).length)return!1;for(var f=u.length-1;f>=0;){if(u[f]===e)return o[f]===r;f-=1}for(u.push(e),o.push(r),f=a.length-1;f>=0;){var s=a[f];if(!l(s,r)||!n(r[s],e[s],u,o))return!1;f-=1}return u.pop(),o.pop(),!0},u=function(e){for(var r=[],t=arguments.length-1;t-- >0;)r[t]=arguments[t+1];return e.length<=r.length?e.apply(void 0,r):function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return u.apply(void 0,[e].concat(r,t))}},o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},c=function(e){return"[object Object]"===Object.prototype.toString.call(e)},i=function(e){return"[object Function]"===Object.prototype.toString.call(e)},a=function(e){return null===e},f=function(e){return"[object String]"===Object.prototype.toString.call(e)},l=function(e,r){return Object.prototype.hasOwnProperty.call(r,e)},s=function(e,r){return n(e,r,[],[])},p=function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];return e.reduce(function(e,r){var t="";for(t in r)e[t]=r[t];return e},{})},y=function(e,r){var t=e<0?r.length+e:e;return f(r)?r.charAt(t):r[t]},g=function(e){return a(e)?"Null":void 0===e?"Undefined":Object.prototype.toString.call(e).slice(8,-1)},b=function(e,r){return e===r?0!==e||1/e==1/r:e!=e&&r!=r};e.curry=u,e.isArray=o,e.isObject=c,e.isFunction=i,e.isNull=a,e.isNumber=function(e){return"[object Number]"===Object.prototype.toString.call(e)},e.isString=f,e.isRegExp=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},e.has=l,e.isEqual=s,e.isEmpty=function(e){return null!==e&&s(e,r(e))},e.removeAtIndex=function(e,r){return r.slice(0,e).concat(r.slice(e+1))},e.replaceAtIndex=function(e,r,t){return t.slice(0,e).concat([r],t.slice(e+1))},e.extend=p,e.deepClone=function(e){return JSON.parse(JSON.stringify(e))},e.clone=function(e){return c(e)?o(e)?e.slice():p(e):e},e.mean=function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];var t=e.length,n=0;if(1===t&&o(e)){var u=e[0];t=u.length,n=u.reduce(function(e,r){return e+r},0)}else n=e.reduce(function(e,r){return e+r},0);return n/t},e.range=function(e,r){var t=[],n=r,u=e;for(r||(u=0,n=e);u<n;)t.push(u),u+=1;return t},e.nth=y,e.last=function(e){return y(-1,e)},e.not=function(e){return!e},e.empty=function(e){return r(e)},e.type=g,e.identical=b,e.__={"@@functional/placeholder":!0},e.find=function(e,r){return c(r)?function(e,r){var t="";for(t in r)if(e(r[t]))return r[t];return!1}(e,r):function(e,r){for(var t=r.length,n=0;n<t;){if(e(r[n]))return r[n];n+=1}return!1}(e,r)},e.omit=function(e,r){if(o(r))return r.filter(function(r){return o(e)?-1===e.indexOf(r):e!==r});return Object.keys(r).reduce(function(t,n){return o(e)&&-1===e.indexOf(n)?(t[n]=r[n],t):(o(e)||e===n||(t[n]=r[n]),t)},{})},Object.defineProperty(e,"__esModule",{value:!0})});
